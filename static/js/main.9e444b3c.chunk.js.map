{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","App.module.css","components/ImageGallery/ImageGallery.module.css","services/PixabayAPI.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.module.css","components/Modal/Modal.module.css"],"names":["module","exports","fetchGalleryAPI","searchQuery","currentPage","axios","get","then","response","data","hits","Searchbar","state","query","onSearchInputChange","e","setState","target","value","onSearchFormSubmit","preventDefault","props","onSubmit","className","styles","SearchForm","this","type","button","label","onChange","input","autocomplete","autofocus","placeholder","Component","ImageGalleryItem","src","alt","image","ImageGallery","images","onImageClick","onClick","map","webformatURL","tags","id","Button","buttonBox","reactLoader","color","height","width","Modal","onEscapeKeydown","code","onClose","onBackdropClick","currentTarget","window","addEventListener","removeEventListener","Overlay","img","App","largeImage","isLoading","error","searchImages","options","prevState","catch","finally","onChangeQuery","currentImage","find","largeImageURL","onCloseModal","prevProps","length","scrollTo","top","document","documentElement","scrollHeight","behavior","ShouldButtonBeVisible","Loader","style","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9e444b3c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__n0_cT\",\"image\":\"ImageGalleryItem_image__3jZUE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2LHbG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1TlVD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2llKx\"};","import axios from 'axios';\r\n\r\n   const BASE_URL = 'https://pixabay.com/api/';\r\n    const AUTHORIZATION_KEY = 'key=21271136-bb8fcb5deeeca7c55db92c216';\r\n\r\nconst fetchGalleryAPI = ({ searchQuery = \"\", currentPage = 1 }) => {\r\n  return axios\r\n    .get(`${BASE_URL}?q=${searchQuery}&page=${currentPage}&${AUTHORIZATION_KEY}&image_type=photo&orientation=horizontal&per_page=12`)\r\n    // .then(response => {\r\n    //   // console.log(response.data));\r\n    //   this.setState({ pictures: response.data });\r\n    // })\r\n    .then(response => response.data.hits);\r\n  // .catch(error => this.setState({ error }));\r\n};\r\n\r\nexport default fetchGalleryAPI;","import React, { Component } from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport styles from './Searchbar.module.css';\r\n\r\n\r\n\r\nclass Searchbar extends Component {\r\n    state = {\r\n        query: '',\r\n    };\r\n\r\n    onSearchInputChange = (e) => {\r\n        this.setState({\r\n            query: e.target.value,\r\n        });\r\n    };\r\n    \r\n    onSearchFormSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.onSubmit(this.state.query);\r\n        this.setState({ query: '' });\r\n    };\r\n    \r\n    render() {\r\n        return (\r\n            <header className={styles.Searchbar}>\r\n                <form className={styles.SearchForm} onSubmit={this.onSearchFormSubmit}>\r\n                    <button type=\"submit\" className={styles.button}>\r\n                    <span className={styles.label}>Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        value={this.state.query}\r\n                        onChange={this.onSearchInputChange}\r\n                    className={styles.input}\r\n                    type=\"text\"\r\n                    autocomplete=\"off\"\r\n                    autofocus\r\n                    placeholder=\"Search images and photos\"\r\n                    />\r\n                </form>\r\n            </header>\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import PropTypes from \"prop-types\";\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ src, alt }) => (\r\n  <li className={styles.ImageGalleryItem}>\r\n    <img\r\n      className={styles.image}\r\n      src={src} alt={alt} />\r\n  </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  src: PropTypes.string,\r\n  alt: PropTypes.string,\r\n};\r\n\r\n\r\nexport default ImageGalleryItem;","import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport PropTypes from \"prop-types\";\r\nimport styles from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images, onImageClick }) => (\r\n  <ul className={styles.ImageGallery} onClick={onImageClick}>\r\n    {images.map(({ webformatURL, tags, id }) => (\r\n      <ImageGalleryItem key={id} src={webformatURL} alt={tags} />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  onImageClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;","import styles from './Button.module.css';\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Button = ({ onClick }) => (\r\n  <div className={styles.buttonBox}>\r\n    <button className={styles.Button} onClick={onClick}>\r\n      Load more...\r\n    </button>\r\n  </div>\r\n);\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import Loader from \"react-loader-spinner\";\r\n\r\nconst reactLoader = () => (\r\n  <div className=\"Loader\">\r\n    <Loader type=\"Puff\" color=\"#f05d00\" height={80} width={80} />\r\n  </div>\r\n);\r\n\r\nexport default reactLoader;","import React, { Component } from \"react\";\r\nimport styles from './Modal.module.css';\r\nimport PropTypes from \"prop-types\";\r\n\r\n\r\nclass Modal extends Component {\r\n  state = {};\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.onEscapeKeydown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.onEscapeKeydown);\r\n  }\r\n\r\n  onEscapeKeydown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  onBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  render() {\r\n    const { src, alt } = this.props;\r\n\r\n    return (\r\n      <div className={styles.Overlay} onClick={this.onBackdropClick}>\r\n        <div className={styles.Modal}>\r\n          <img className={styles.img} src={src} alt={alt} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  src: PropTypes.string,\r\n  alt: PropTypes.string,\r\n};\r\n\r\n\r\nexport default Modal;","import React, { Component } from 'react';\nimport styles from './App.module.css';\n\n\nimport fetchGalleryAPI from './services/PixabayAPI';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport Loader from './components/Loader/Loader';\nimport Modal from './components/Modal/Modal';\n\nclass App extends Component{\n\n  state = {\n    images: [],\n    largeImage: {\n      src: '',\n      alt: '',\n    },\n    currentPage: 1,\n    isLoading: false,\n    searchQuery: '',\n    error: null,\n  };\n\n      componentDidUpdate(prevProps, prevState) {\n        const {searchQuery} = this.state;\n\n        if (prevState.searchQuery !== searchQuery) {\n          this.searchImages();\n        }\n        if (this.state.images.length > 14) {\n          window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n      });\n    }\n  }\n  \n    searchImages= () => {\n      const { searchQuery, currentPage } = this.state;\n      const options = { searchQuery, currentPage };\n\n      this.setState({ isLoading: true });\n\n      fetchGalleryAPI(options)\n        .then((images) =>\n          this.setState((prevState) => ({\n            images: [...prevState.images, ...images],\n            currentPage: prevState.currentPage + 1,\n          }))\n        )\n        .catch((error) => this.setState({ error }))\n        .finally(() => this.setState({ isLoading: false }));\n  };\n\n    onChangeQuery = (query) => {\n        this.setState({\n          images: [],\n          currentPage: 1,\n          searchQuery: query,\n          error: null,\n        });\n      };\n\n    onImageClick = (e) => {\n      if (e.target !== e.currentTarget) {\n        const currentImage = this.state.images.find(\n          (image) => image.webformatURL === e.target.src\n        );\n\n        const src = currentImage.largeImageURL;\n        const alt = currentImage.tags;\n\n        this.setState({ largeImage: { src, alt } });\n      }\n    };\n\n    onCloseModal = () => {\n      this.setState({\n        largeImage: {\n          src: '',\n          alt: '',\n        },\n      });\n    };\n\n  render() {\n        const { isLoading, images, largeImage, error } = this.state;\n        const ShouldButtonBeVisible = images.length > 0 && !isLoading;\n        \n      return (\n        <div className={styles.App}>\n          <Searchbar onSubmit={this.onChangeQuery} />\n          {isLoading && <Loader />}\n          {error && (\n          <h1>\n            Sorry!But downloading has been enterapted due error:\n            <span style={{ color: \"red\" }}> {error}</span>\n          </h1>\n        )}\n            <ImageGallery images={images} onImageClick={this.onImageClick} />\n             {ShouldButtonBeVisible && <Button onClick={this.searchImages} />}  \n            {largeImage.src !== \"\" && (\n              <Modal\n                src={largeImage.src}\n                alt={largeImage.alt}\n                onClose={this.onCloseModal}\n              />\n            )}  \n        </div>\n        );\n    }\n}\n  \n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n// import \"modern-normalize/modern-normalize.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__SQqYr\",\"SearchForm\":\"Searchbar_SearchForm__29tA0\",\"button\":\"Searchbar_button__22L8q\",\"label\":\"Searchbar_label__WTPKY\",\"input\":\"Searchbar_input__1PC8V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2RJpD\",\"Modal\":\"Modal_Modal__LCfcQ\"};"],"sourceRoot":""}